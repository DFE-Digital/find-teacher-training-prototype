{% extends "_layouts/default.njk" %}

{% set title = "Teacher training courses" %}

{% block content %}
  {% if provider %}
    <h1 class="govuk-heading-l">
      <span class="govuk-caption-l">{{ title }}</span>
      {{ provider.name }}
    </h1>
  {% elif not radius %}
    <h1 class="govuk-heading-l">{{ title }} across England</h1>
  {% else %}
    <h1 class="govuk-heading-l">{{ title }}</h1>
  {% endif %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      {% if data.flags.filterSidebar %}
        {% include "_includes/filter-form.njk" %}
      {% else %}
        {% include "_includes/filter-sidebar.njk" %}
      {% endif %}
    </div>

    <div class="govuk-grid-column-two-thirds">
      {% if results | length > 0 %}
        {% if provider or not radius %}
          <p class="govuk-body"><strong>{{ resultsCount }} courses found</strong></p>
        {% else %}
          {% if londonBorough and londonBoroughItems.length > 0 %}
            <p class="govuk-body"><strong>{{ resultsCount }} courses found</strong> with training locations in the London borough{{ "s" if londonBoroughItems.length > 1 }} of {{ londonBoroughItems | join(", ", "text") }}. <a href="/results/filters/london">Change<span class="govuk-visually-hidden"> London boroughs</span></a></p>
          {% elif londonBorough and londonBoroughItems.length == 0 %}
            <p class="govuk-body"><strong>{{ resultsCount }} courses found</strong> with training locations in the London travel area. <a href="/results/filters/london">Select London boroughs</a></p>
          {% else %}
            <p class="govuk-body"><strong>{{ resultsCount }} courses found</strong> with training locations in the {{ area.name }} travel area</p>
          {% endif %}
        {% endif %}

        <ul class="govuk-list search-results">
        {% for result in results %}
          <li>
            {% include "_includes/result-item.njk" %}
          </li>
        {% endfor %}
        </ul>
        {{ appPagination(pagination) }}
      {% else %}
        {% if area.country_name != "England" %}
          <h2 class="govuk-heading-m">This service is for courses in England</h2>
          {% if area.country_name == "Scotland" %}
            <p class="govuk-body"><a class="govuk-link" href="https://teachinscotland.scot/">Learn more about teacher training in Scotland</a></p>
          {% elif area.country_name == "Wales" %}
            <p class="govuk-body"><a class="govuk-link" href="https://www.discoverteaching.wales/routes-into-teaching/">Learn more about teacher training in Wales</a></p>
          {% elif area.country_name == "Northern Ireland" %}
            <p class="govuk-body"><a class="govuk-link" href="https://www.education-ni.gov.uk/articles/initial-teacher-education-courses-northern-ireland">Learn more about teacher training in Northern Ireland</a></p>
          {% endif %}
        {% else %}
          <h2 class="govuk-heading-m">There are no courses matching your search</h2>
          <p class="govuk-body">You can <a class="govuk-link" href="/">try another search</a>, for example by changing subject or location.</p>
        {% endif %}
      {% endif %}
    </div>
  </div>
{% endblock %}
