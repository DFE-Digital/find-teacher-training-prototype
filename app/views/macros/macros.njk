{% macro screenshotContents(contents) %}
<h2 class="govuk-heading-m">Screenshots</h2>
<ul class="govuk-list">
  {% for c in contents %}
    <li><a href="#{{ c.id }}">{{ c.text }}</a></li>
  {% endfor %}
</ul>
{% endmacro %}

{% macro screenshot(title, id, thumbnail, full, text = '') %}
<div class="design-history-item">
  <h2 class="govuk-heading-l" id="{{ id }}">{{ title }}</h2>
  <div class="grid-row">
    <div class="column-two-thirds design-history-screenshot">
      <div class="add-double-bottom-margin">
        <a href="{{ full }}">
          <img src="{{ thumbnail }}" width="630" alt="Screenshot of {{ title }}" />
        </a>
      </div>
      <div class="design-history-text">
        {{ text | safe }}
      </div>
    </div>
  </div>
</div>
{% endmacro %}

{% macro textbox(id, label, helpText = false) %}
<div class="form-group">
  <label class="form-label-bold" for="{{id}}">{{label}}</label>
  {% if helpText %}
    <span class="form-hint">{{helpText}}</span>
  {% endif %}
  <input class="form-control" name="{{id}}" type="text" id="{{id}}" value="{{ value(id) }}">
</div>
{% endmacro %}

{% macro radio(id, label, groupName, target, value) %}
  <div class="multiple-choice" data-target="{{target}}">
    <input id="{{id}}" type="radio" name="{{groupName}}" value="{{value}}">
    <label for="{{id}}" class="bold">{{label}}</label>
  </div>
{% endmacro %}

{#
  field:
    name:
    text:
    more:
#}
{% macro radioGroup(name, fields) %}
  {% for field in fields %}
    {% if field.or %}
      <p class="form-block form-block--or">or</p>
    {% else %}
      <div class="multiple-choice" data-target="radio-part-{{ name }}-{{ loop.index }}-extra">
        <input required
          id="radio-part-{{ name }}-{{ loop.index }}"
          type="radio"
          name="{{ name }}"
          value="{{ field.name }}"
          {% if field.checked %}checked{% else %}{{ checked(name, field.name) }}{% endif %}
        >
        <label for="radio-part-{{ name }}-{{ loop.index }}">
          <span {% if field.text %}class="bold"{% endif %}>{{ field.name }}</span>
          {% if field.text %}
            <br />{{ field.text | safe }}
          {% endif %}
        </label>
      </div>
      {% if field.more %}
        <div class="panel panel-border-wide js-hidden" id="radio-part-{{ name }}-{{ loop.index }}-extra">
          {{ field.more | safe }}
        </div>
      {% endif %}
    {% endif %}
  {% endfor %}
{% endmacro %}

{% macro part(data) %}
  {% if (data) %}
    <p>{{ data }}</p>
  {% endif %}
{% endmacro %}

{% macro checkboxGroup(name, fields, index = 0, bold = true) %}
  {% for field in fields %}
    <div class="multiple-choice" data-target="checkbox-part-{{ loop.index + index }}-extra">
      <input
        id="checkbox-part-{{ loop.index + index }}"
        type="checkbox"
        name="{{ name }}"
        value="{{ field.name }}"
        {{ checked(name, field.name) }}
      >
      <label for="checkbox-part-{{ loop.index + index }}">
        {% if bold %}
          <span class="bold">{{ field.name }}</span>
        {% else %}
          {{ field.name }}
        {% endif %}
      </label>
      {% if field.text %}
      <div style="margin-left: 13px">
        {{ field.text | safe }}
      </div>
      {% endif %}
    </div>
    {% if field.more %}
      <div class="panel panel-border-wide js-hidden" id="checkbox-part-{{ loop.index + index }}-extra">
        {{ field.more | safe }}
      </div>
    {% endif %}
  {% endfor %}
{% endmacro %}

{% macro h1(text) %}
<h1 class="govuk-heading-xl">{{text}}</h1>
{% endmacro %}

{% macro backLink(label,url) %}
<a class="link-back" href="{{url}}">{{label}}</a>
{% endmacro %}

{% macro selectBox(id,label,name,options) %}
  <div class="form-group">
    <label class="form-label-bold" for="{{id}}">{{label}}</label>
    <select class="form-control" id="{{id}}" name="{{name}}">
    {% for option in options%}
      <option>{{option}}</option>
      {% endfor %}
    </select>
  </div>
{% endmacro %}

{% macro submit(label) %}
<input type="submit" class="govuk-button" value="{{label}}">
{% endmacro %}

{% macro checkbox(name,choices) %}
<fieldset class="form-group">
  {% for choice in choices %}
    <div class="multiple-choice">
      <input id="{{choice|replace(" ","")}}"  name="{{choice}}" type="checkbox">
      <label for="{{choice|replace(" ","")}}" class="bold">{{choice}}</label>
    </div>
  {% endfor %}
</fieldset>
{% endmacro %}

{% macro checkboxWithBursary(name,choices,degree) %}
<fieldset class="form-group ">
  {% for choice in choices %}
    <div class="multiple-choice subject">
      <div>
        <input id="{{choice|replace(" ","")}}"  name="{{choice}}" type="checkbox">
        <label for="{{choice|replace(" ","")}}" class="bold">{{choice}}</label>
      </div>
      {% if choice | bursaryCost(degree) %}
        <div class="bursarySubjectInfo">
          {{ choice | bursaryCost(degree) }} bursary available
        </div>
      {% endif %}
    </div>
  {% endfor %}
</fieldset>
{% endmacro %}

<!-- Header on top of the results showing number of courses, New search and sorting order -->
{% macro resultsHeader(countString = '40 courses', mapView = false) %}
<div class="resultsHeader">
  <div {% if not mapView %}class="results-found"{% endif %}>
    {% if not mapView %}
      {{ countString }} found
      <span>
        <a href="/start/location">New search</a>
      </span>
    {% endif %}
  </div>
  {% if value('location') == 'Across England' %}
  <div class="resultsSortingOptions">
    <div class="sortLabel">Sorted by training provider</div>
  </div>
  {% elseif (not mapView) %}
  <div class="resultsSortingOptions">
    <a href="/results?map=yes">View on a map</a>
  </div>
  {% endif %}
  {% if mapView %}
  {{ countString }} found within 50 miles

  <ul class="govuk-list add-top-margin" style="padding-bottom: 20px">
    <li><a href="/results">View results as a list</a></li>
    <li><a href="/start/location">New search</a></li>
    {# <li><a href="/start/location">Filter the results</a></li> #}
  </ul>
  {% endif %}
</div>
{% endmacro %}

{% macro helpText(label,text) %}
<details>
  <summary><span class="summary">{{label}}</span></summary>
  <div class="panel panel-border-narrow">
    <p>
      {{text}}
    </p>
  </div>
</details>
{% endmacro %}
