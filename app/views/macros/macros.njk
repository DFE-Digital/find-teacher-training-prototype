{% macro textbox(id, label, helpText = false, size = "", prefix = false, errors = false, v = false) %}
  {% set e = false %}
  <div class="govuk-form-group {% if e %} govuk-form-group--error{% endif %}">
    <label class="govuk-label" for="{{ id }}">{{ label | safe }}</label>
    {% if helpText %}
      <span class="govuk-hint">{{ helpText | safe }}</span>
    {% endif %}
    {% if e %}
      <span class="govuk-error-message">
        {{ e.text }}
      </span>
    {% endif %}
    {% if prefix %}
      <span class="govuk-prefix-input">{{ prefix }}</span>
    {% endif %}
    <input class="govuk-input {{ size or 'govuk-input--width-20' }}" name="{{ id }}" type="text" id="{{ id }}" value="{{ v or value(id) }}">
  </div>
{% endmacro %}

<!-- Header on top of the results showing number of courses, New search and sorting order -->
{% macro resultsHeader(countString = "40 courses", mapView = false) %}
  {% if (not mapView) %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half">
        <p class="govuk-body search-results__count" data-qa="course-count">{{ countString }} found</p>
      </div>
      <div class="govuk-grid-column-one-half">
        <p class="govuk-body search-results__new-search">
          <a href="/start/location">New search</a>
        </p>
      </div>
    </div>
  {% endif %}
  <div class="search-results-header">
    <div class="govuk-grid-row">
    {% if value("location") == "Across England" %}
      <div class="govuk-grid-column-one-half">
        <p class="govuk-body govuk-!-margin-bottom-0">Sorted by training provider</p>
      </div>
    {% elseif (not mapView) %}
      <div class="govuk-grid-column-full">
        <p class="govuk-body govuk-!-margin-bottom-0">Sorted by distance. <a href="/results?map=yes">View on a map</a></p>
      </div>
    {% endif %}
    </div>
    {% if mapView %}
      <p>{{ countString }} found within 50 miles</p>

      <ul class="govuk-list">
        <li><a href="/results">View results as a list</a></li>
        <li><a href="/start/location">New search</a></li>
        {# <li><a href="/start/location">Filter the results</a></li> #}
      </ul>
    {% endif %}
  </div>
{% endmacro %}

{% macro helpText(label,text) %}
<details data-module="govuk-details">
  <summary><span class="summary">{{label}}</span></summary>
  <div class="govuk-inset-text">
    <p>{{text}}</p>
  </div>
</details>
{% endmacro %}
